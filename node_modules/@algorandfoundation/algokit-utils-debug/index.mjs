import { Config, EventType } from '@algorandfoundation/algokit-utils';
import { writeAVMDebugTrace } from './debugging/writeAVMDebugTrace.mjs';
import { writeTealDebugSourceMaps } from './debugging/writeTealDebugSourceMaps.mjs';

/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 * Registers event handlers for debugging events in Algorand development.
 *
 * This function sets up handlers for the following events:
 * - 'TxnGroupSimulated': Calls the `writeAVMDebugTrace` function to generate and persist an AVM debug trace.
 * - 'AppCompiled': Calls the `writeTealDebugSourceMaps` function to generate and persist TEAL source maps.
 *
 * These handlers help in debugging Algorand smart contracts by providing detailed traces and source maps.
 *
 * @returns {void}
 */
const registerDebugEventHandlers = () => {
    Config.events.on(EventType.TxnGroupSimulated, async (eventData) => {
        await writeAVMDebugTrace(eventData, Config.traceBufferSizeMb || 256);
    });
    Config.events.on(EventType.AppCompiled, async (data) => {
        await writeTealDebugSourceMaps(data);
    });
};

export { registerDebugEventHandlers, writeAVMDebugTrace, writeTealDebugSourceMaps };
//# sourceMappingURL=index.mjs.map
